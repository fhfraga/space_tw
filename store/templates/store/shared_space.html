{% extends 'store/main.html' %}
{% load static %}
{% block content %}
<div class="container mx-auto mt-10">
    <h1 class="text-center text-2xl text-sky-900 mb-6 font-sans font-bold uppercase">Espaços Compartilhados disponiveis</h1>
    <div class="flex flex-wrap justify-center gap-6">
        {% for product in shared_space_products %}
        {% if product.available_from and product.available_to %}
        <div class="relative bg-white shadow-lg rounded-lg overflow-hidden border">
            <img class="w-full h-48 object-cover" src="{{ product.imageURL }}" alt="{{ product.name }}">
            <div class="p-4">
                {% if product.on_sale %}
                <span class="absolute top-0 left-0 bg-red-500 text-white py-1 px-3 rounded-br-lg">Oferta</span>
                {% endif %}
                <div class="flex justify-end">
                    <h6 class="font-bold text-gray-800 text-lg uppercase">{{ product.name }}</h6>
                </div>
                <hr class="my-2">
                <div class="flex justify-between items-center">
                    <div class="flex justify-between items-center mb-4">
                        <button data-product="{{ product.id }}" data-action="add"
                            class="bg-sky-950 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded-lg focus:outline-none update-cart mr-4">
                            Alugar
                        </button>
                        <a href="{{ product.link }}"
                            class="bg-sky-950 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded-lg focus:outline-none text-center">
                            Sobre
                        </a>
                    </div>
                    <h4 class="text-right text-xl text-gray-600 font-bold">R${{ product.price }}/h</h4>
                </div>
                <p class="mt-2 text-gray-600">
                    <span class="bg-gray-200 text-gray-700 py-1 px-3 rounded-full">{{product.get_space_type_display}}</span>
                </p>
        
                {% if product.features %}
                <p class="text-gray-600 mt-2"><strong>Características:</strong> {{product.features}}</p>
                {% endif %}
        
                {% if product.available_from and product.available_to %}
                <p class="text-gray-600 mt-2">
                    <strong>Disponível de:</strong> {{ product.available_from|date:"d/m/Y" }}
                    <strong>até:</strong> {{ product.available_to|date:"d/m/Y" }}
                </p>
                {% else %}
                <p class="text-gray-600 mt-2"><strong>Disponibilidade não definida.</strong></p>
                {% endif %}
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock content %}